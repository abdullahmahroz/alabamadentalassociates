!function(o,t,i){function n(t,i){o(".opn_fixed_container").addClass(t),""!=i&&(i+="px",o(".opn_fixed_container").css(t,i))}var s=function(n,s){this.el=n,this.$el=o(n),this.options=s,this.metadata=this.$el.data("plugin-options"),this.$win=o(t),this.sections={},this.didScroll=!1,this.$doc=o(i),this.docHeight=this.$doc.height()};s.prototype={defaults:{navParent:"ul",navItems:"a",currentClass:"current",showTooltip:"show-tooltip",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!0},init:function(){return this.HideOnRow(),this.config=o.extend({},this.defaults,this.options,this.metadata),this.$nav=this.$el.find(this.config.navItems),""!==this.config.filter&&(this.$nav=this.$nav.filter(this.config.filter)),this.getPositions(),this.bindInterval(),this.$win.on("resize.ultOnePageNavigator",o.proxy(this.getPositions,this)),this.didScroll=!0,this},adjustNav:function(t,i){t.$el.find("."+t.config.currentClass).removeClass(t.config.currentClass),o(t.$el).siblings(".opn_list").children("li").removeClass(t.config.currentClass),i.addClass(t.config.currentClass)},setRowDefaultColors:function(){var t=this;this.$el.find(this.config.navParent).each(function(){var i=o(this),n=i.find("i");i.find("."+t.config.currentClass).removeClass(t.config.currentClass),i.find("."+t.config.showTooltip).removeClass(t.config.showTooltip);var s=i.attr("data-bg_color")||i.css("background-color"),a=i.attr("data-icon_color")||n.css("color");i.css("background-color",s),n.css("color",a),i.find(".opn-tooltip, .opn-tooltip:before").each(function(){var t=o(this).attr("data-normal_bg_color"),i=o(this).attr("data-normal_color");o(this).css("background-color",t),o(this).css("border-color",t),o(this).css("color",i)})})},setRowInvertColors:function(){var t=this,i=this.$win.scrollTop(),n=this.getSectionCustom(i);this.$el.find(this.config.navParent).each(function(){var i=o(this),s=i.find("i"),a=i.find('a[href$="#'+n+'"]').parent();i.find("."+t.config.currentClass).removeClass(t.config.currentClass),a.addClass(t.config.currentClass);var r=i.attr("data-on_row_bg_color")||i.css("background-color"),e=i.attr("data-on_row_icon_color")||i.attr("data-icon_color"),c=i.attr("data-on_row_icon_hover_color")||i.attr("data-icon_hover_color");i.css("background-color",r),s.css("color",e),i.find("."+t.config.currentClass+" i").css("color",c),i.find("."+t.config.showTooltip).removeClass(t.config.showTooltip);var l=i.attr("data-tooltip_autoshow")||"";"on"===l?t.autoShowActiveTooltip(a,t):t.autoRemoveActiveTooltip(a,t),i.find(".opn-tooltip, .opn-tooltip:before").each(function(){var t=o(this).attr("data-invert_bg_color")||o(this).css("background-color"),i=o(this).attr("data-invert_color")||o(this).css("color");o(this).css("background-color",t),o(this).css("border-color",t),o(this).css("color",i)})})},setRowNonInvertColors:function(){var t=this.$win.scrollTop(),i=this.getSectionCustom(t),n=this;this.$el.find(this.config.navParent).each(function(){var t=o(this),s=t.find("i"),a=t.find('a[href$="#'+i+'"]').parent();t.find("."+n.config.currentClass).removeClass(n.config.currentClass),a.addClass(n.config.currentClass);var r=t.attr("data-bg_color")||t.css("background-color"),e=t.attr("data-icon_color")||s.css("color"),c=t.attr("data-icon_hover_color")||s.css("color");t.css("background-color",r),s.css("color",e),t.find("."+n.config.currentClass+" i").css("color",c),t.find("."+n.config.showTooltip).removeClass(n.config.showTooltip);var l=t.attr("data-tooltip_autoshow")||"";"on"===l?n.autoShowActiveTooltip(a,n):n.autoRemoveActiveTooltip(a,n),t.find(".opn-tooltip, .opn-tooltip:before").each(function(){var t=o(this).attr("data-normal_bg_color"),i=o(this).attr("data-normal_color");o(this).css("background-color",t),o(this).css("border-color",t),o(this).css("color",i)})})},autoShowActiveTooltip:function(o,t){o.addClass(t.config.showTooltip)},autoRemoveActiveTooltip:function(o,t){o.removeClass(t.config.showTooltip)},ShowOnRow:function(){o(this.el).css({visibility:"visible",opacity:"1"})},HideOnRow:function(){o(this.el).css({visibility:"hidden",opacity:"0"})},scrollChange:function(){var t=this.$win.scrollTop(),i=this.getSectionCustom(t);if("undefined"!=typeof i&&null!=i){var n="#"+i,s=o(n).attr("data-opn_hide_navigation")||"";if("on"==s)this.HideOnRow();else{this.ShowOnRow();var a=o(n).attr("data-opn_enable_overlay")||"";""!=a&&"on"==a?this.setRowInvertColors():this.setRowNonInvertColors()}}else this.ShowOnRow(),this.setRowDefaultColors()},getSectionCustom:function(){var t=null,i=(Math.round(this.$win.height()*this.config.scrollThreshold),o(".opn_fixed_container")),n=i.offset(),s=i.outerHeight();for(var a in this.sections){var r="#"+a,e=o(r).offset(),c=o(r).outerHeight(),l=e.top+c;e.top=e.top-s/2,Math.round(n.top)>=Math.round(e.top)&&Math.round(n.top)<=Math.round(l)&&(t=a)}return t},oneScroll:function(){var i=this,n=i.$win.scrollTop(),s=i.getSectionCustom(n);if("undefined"!=typeof s&&null!=s){var a=o("#"+s).prev().attr("id")||"",r=o("#"+s).next().attr("id")||"";i.$el.find(i.config.navParent).each(function(i,n){var e=o(n).find("a");if(e.each(function(t,i){var n=o(i).attr("href");"undefined"!=typeof n&&null!=n&&(t=n.split("#")[1],s==t&&(p=o(i).parent().parent(),one_row_scroll=p.attr("data-one_row_scroll")||"off"))}),"on"===one_row_scroll){var c=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";o("#"+s).bind(c,function(i){var n=t.event||i;n=n.originalEvent?n.originalEvent:n;var s=n.detail?-40*n.detail:n.wheelDelta;s>0?"undefined"!=typeof a&&o("#"+a).animatescroll({scrollSpeed:1e3,easing:"easeOutQuad"}):"undefined"!=typeof r&&""!==r&&o("#"+r).animatescroll({scrollSpeed:1e3,easing:"easeOutQuad"})})}})}},bindInterval:function(){var o,t=this;t.$win.on("scroll.ultOnePageNavigator",function(){t.didScroll=!0}),t.t=setInterval(function(){o=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),o!==t.docHeight&&(t.docHeight=o,t.getPositions())},250)},getHash:function(o){return o.attr("href").split("#")[1]},getPositions:function(){var t,i,n,s=this;s.$el.find(s.config.navParent).each(function(){s.$nav.each(function(){t=s.getHash(o(this)),n=o("#"+t),n.length&&(i=n.offset().top,s.sections[t]=Math.round(i))})})},getSection:function(o){var t=null,i=Math.round(this.$win.height()*this.config.scrollThreshold);for(var n in this.sections)this.sections[n]-i<o&&(t=n);return t},scrollTo:function(t,i){var n=o(t).offset().top;o("html, body").animate({scrollTop:n},this.config.scrollSpeed,this.config.easing,i)},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.ultOnePageNavigator")}},s.defaults=s.prototype.defaults,o.fn.ultOnePageNavigator=function(o){return this.each(function(){new s(this,o).init()})},o(t).load(function(){var t="";o(".opn_navigator").each(function(){var i=o(this);t+=i.html(),i.remove()}),""!=t&&o("body").append('<div class="opn_fixed_wrap"><div class="opn_fixed_container"><div class="opn_fixed">'+t+"</div></div></div>"),o(".opn_fixed .opn_list").each(function(){var t=o(this),i=t.attr("data-tooltip_autoshow")||"";t.hover(function(){o(this).find(".dts-current").removeClass("show-tooltip")},function(){"on"===i&&o(this).find(".dts-current").addClass("show-tooltip")}),t.find("li").hover(function(){o(this).siblings("li").find(".opn-tooltip").hide()},function(){o(this).siblings("li").find(".opn-tooltip").show()})}),o(".opn_fixed").ultOnePageNavigator({currentClass:"dts-current",showTooltip:"show-tooltip"});var i=o(".opn_list").first().attr("data-nav-position")||"",s=o(".opn_list").first().attr("data-nav_distance")||"";if(""!=i)switch(i){case"bottom":n(i,s);break;case"left":n(i,s);break;case"right":n(i,s)}}),o(i).ready(function(){o(".opn_fixed").ultOnePageNavigator({currentClass:"dts-current",showTooltip:"show-tooltip"})})}(jQuery,window,document);